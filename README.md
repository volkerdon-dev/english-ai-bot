# EngTrain WebApp

Веб-приложение для Telegram бота EngTrain, предназначенное для изучения английского языка.

## Структура проекта

- `index.html` - Главная страница с меню разделов
- `grammar.html` - Раздел грамматики
- `vocabulary.html` - Раздел словаря
- `practice.html` - Раздел практики
- `games.html` - Раздел игр
- `full-version.html` - Информация о полной версии
- `test.html` - Тестовая страница для проверки навигации
- `style.css` - Стили приложения

## Особенности

- Полная поддержка Telegram Web App API
- Адаптивный дизайн для мобильных устройств
- Плавные анимации и переходы
- Уведомления через Telegram Web App

## Тестирование

### В браузере
1. Откройте `index.html` в браузере
2. Нажмите на любую кнопку для перехода к разделу
3. Используйте кнопку "← Назад" для возврата в главное меню

### В Telegram
1. Откройте веб-приложение через Telegram бота
2. Проверьте, что все кнопки работают корректно
3. Убедитесь, что переходы между страницами работают

### Отладка
- Откройте консоль разработчика (F12)
- Проверьте сообщения о инициализации Telegram Web App
- При ошибках навигации проверьте логи в консоли

## Деплой

Проект настроен для деплоя на Railway:
- `railway.json` - конфигурация Railway
- `package.json` - зависимости и скрипты

## Backend (FastAPI)

Локальный запуск сервера разработки:

```bash
uvicorn app.main:app --reload --port 8000
```

### Перенаправление /grammar

- Эндпоинт `/grammar` теперь перенаправляет на классическую версию грамматики.
- Поведение управляется переменной окружения `CLASSIC_GRAMMAR_URL`.
  - Если задана `CLASSIC_GRAMMAR_URL`, редирект идёт на это значение (например, `https://example.com/grammar`).
  - Если переменная не задана, используется встроенная страница по адресу `/legacy/grammar.html`.

На Railway добавьте переменную окружения:

```text
CLASSIC_GRAMMAR_URL=https://<ваш-домен>/grammar
```

## Исправления

### Проблема с навигацией
- Добавлена инициализация Telegram Web App API
- Улучшена функция навигации с обработкой ошибок
- Добавлены альтернативные методы перехода
- Добавлены уведомления о переходах

### Стили
- Добавлены стили для premium-функций
- Улучшена адаптивность для мобильных устройств
- Добавлены hover-эффекты для кнопок