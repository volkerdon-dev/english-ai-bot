<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EngTrain App</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="main-page" class="page active">
      <div class="header">
        <h1>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ EngTrain App!</h1>
      </div>

      <div class="content">
        <h2>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:</h2>

        <button class="btn" onclick="showPage('grammar')">üìö Grammar</button>
        <button class="btn" onclick="showPage('vocabulary')">üß† Vocabulary</button>
        <button class="btn" onclick="showPage('practice')">‚úçÔ∏è Practice</button>
        <button class="btn" onclick="showPage('games')">üéÆ –ò–≥—Ä—ã</button>
        <button class="btn secondary" onclick="showPage('full-version')">üîê –ß—Ç–æ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏?</button>
        <button class="btn" onclick="showPage('test')" style="background-color: #28a745;">üß™ –¢–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</button>
        <button class="btn" onclick="testNavigation()" style="background-color: #ff6b6b;">üîß –¢–µ—Å—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ</button>
        <button class="btn" onclick="testDirectNavigation()" style="background-color: #ffa500;">üöÄ –ü—Ä—è–º–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è</button>
        <button class="btn" onclick="testTelegramNavigation()" style="background-color: #9c27b0;">üì± –¢–µ—Å—Ç Telegram</button>
        <button class="btn" onclick="simpleTest()" style="background-color: #e91e63;">üî¨ –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç</button>
        <button class="btn" onclick="testReplace()" style="background-color: #607d8b;">üîÑ –¢–µ—Å—Ç Replace</button>
      </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ Grammar -->
    <div id="grammar-page" class="page">
      <div class="header">
        <button onclick="showPage('main')" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        <h1>üìö Grammar</h1>
      </div>

      <div class="content">
        <h2>–ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã</h2>
        
        <div class="section-grid">
          <div class="section-card" onclick="openSection('tenses')">
            <h3>‚è∞ –í—Ä–µ–º–µ–Ω–∞</h3>
            <p>–ò–∑—É—á–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –≤—Ä–µ–º–µ–Ω</p>
          </div>
          
          <div class="section-card" onclick="openSection('articles')">
            <h3>üìù –ê—Ä—Ç–∏–∫–ª–∏</h3>
            <p>–ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è a/an/the</p>
          </div>
          
          <div class="section-card" onclick="openSection('prepositions')">
            <h3>üîó –ü—Ä–µ–¥–ª–æ–≥–∏</h3>
            <p>–ü—Ä–µ–¥–ª–æ–≥–∏ –º–µ—Å—Ç–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏</p>
          </div>
          
          <div class="section-card" onclick="openSection('conditionals')">
            <h3>üéØ –£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h3>
            <p>If-clauses –∏ –∏—Ö —Ç–∏–ø—ã</p>
          </div>
        </div>
      </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ Vocabulary -->
    <div id="vocabulary-page" class="page">
      <div class="header">
        <button onclick="showPage('main')" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        <h1>üß† Vocabulary</h1>
      </div>

      <div class="content">
        <h2>–°–ª–æ–≤–∞—Ä–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã</h2>
        
        <div class="section-grid">
          <div class="section-card" onclick="openSection('daily_words')">
            <h3>üìÖ –°–ª–æ–≤–∞ –¥–Ω—è</h3>
            <p>–ù–æ–≤—ã–µ —Å–ª–æ–≤–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
          </div>
          
          <div class="section-card" onclick="openSection('topics')">
            <h3>üìö –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–≤–∞</h3>
            <p>–°–ª–æ–≤–∞ –ø–æ —Ç–µ–º–∞–º</p>
          </div>
          
          <div class="section-card" onclick="openSection('idioms')">
            <h3>üí¨ –ò–¥–∏–æ–º—ã</h3>
            <p>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</p>
          </div>
          
          <div class="section-card" onclick="openSection('phrasal_verbs')">
            <h3>üîó –§—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã</h3>
            <p>–í–∞–∂–Ω—ã–µ —Ñ—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã</p>
          </div>
        </div>
      </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ Practice -->
    <div id="practice-page" class="page">
      <div class="header">
        <button onclick="showPage('main')" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        <h1>‚úçÔ∏è Practice</h1>
      </div>

      <div class="content">
        <h2>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</h2>
        
        <div class="section-grid">
          <div class="section-card" onclick="openSection('listening')">
            <h3>üéß –ê—É–¥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <p>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–µ—á–∏</p>
          </div>
          
          <div class="section-card" onclick="openSection('reading')">
            <h3>üìñ –ß—Ç–µ–Ω–∏–µ</h3>
            <p>–¢–µ–∫—Å—Ç—ã –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ</p>
          </div>
          
          <div class="section-card" onclick="openSection('writing')">
            <h3>‚úèÔ∏è –ü–∏—Å—å–º–æ</h3>
            <p>–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤</p>
          </div>
          
          <div class="section-card" onclick="openSection('speaking')">
            <h3>üó£Ô∏è –ì–æ–≤–æ—Ä–µ–Ω–∏–µ</h3>
            <p>–†–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</p>
          </div>
        </div>
      </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ Games -->
    <div id="games-page" class="page">
      <div class="header">
        <button onclick="showPage('main')" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        <h1>üéÆ –ò–≥—Ä—ã</h1>
      </div>

      <div class="content">
        <h2>–û–±—É—á–∞—é—â–∏–µ –∏–≥—Ä—ã</h2>
        
        <div class="section-grid">
          <div class="section-card" onclick="openSection('word_guess')">
            <h3>üéØ –£–≥–∞–¥–∞–π —Å–ª–æ–≤–æ</h3>
            <p>–£–≥–∞–¥–∞–π—Ç–µ —Å–ª–æ–≤–æ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é</p>
          </div>
          
          <div class="section-card" onclick="openSection('memory')">
            <h3>üß† –ü–∞–º—è—Ç—å</h3>
            <p>–ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä—ã —Å–ª–æ–≤</p>
          </div>
          
          <div class="section-card" onclick="openSection('quiz')">
            <h3>‚ùì –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</h3>
            <p>–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
          </div>
          
          <div class="section-card" onclick="openSection('puzzle')">
            <h3>üß© –ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞</h3>
            <p>–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</p>
          </div>
        </div>
      </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ Full Version -->
    <div id="full-version-page" class="page">
      <div class="header">
        <button onclick="showPage('main')" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        <h1>üîê –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è</h1>
      </div>

      <div class="content">
        <h2>–ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é?</h2>
        
        <div class="premium-features">
          <div class="feature-card">
            <h3>üéØ IELTS Practice Tests</h3>
            <p>–ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ IELTS</p>
          </div>
          
          <div class="feature-card">
            <h3>üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>
          </div>
          
          <div class="feature-card">
            <h3>üéß –ê—É–¥–∏–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h3>
            <p>–û–∑–≤—É—á–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –∏ –¥–∏–∞–ª–æ–≥–∏</p>
          </div>
          
          <div class="feature-card">
            <h3>üì± –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω</h3>
            <p>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è</p>
          </div>
          
          <div class="feature-card">
            <h3>üí¨ –ß–∞—Ç —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º</h3>
            <p>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç –æ–ø—ã—Ç–Ω—ã—Ö —É—á–∏—Ç–µ–ª–µ–π</p>
          </div>
          
          <div class="feature-card">
            <h3>üèÜ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</h3>
            <p>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º</p>
          </div>
        </div>
        
        <button class="btn primary" onclick="contactSupport()">
          üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
        </button>
      </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ Test -->
    <div id="test-page" class="page">
      <div class="header">
        <button onclick="showPage('main')" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        <h1>üß™ –¢–µ—Å—Ç</h1>
      </div>

      <div class="content">
        <h2>–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>
        
        <p>–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∑–Ω–∞—á–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</p>
        
        <button class="btn" onclick="testAlert()">–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
        <button class="btn secondary" onclick="showPage('main')">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
      </div>
    </div>
  </div>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
      Telegram.WebApp.ready();
      Telegram.WebApp.expand();
      console.log('Telegram Web App initialized');
    } else {
      console.log('Running in browser mode');
    }

    // SPA –Ω–∞–≤–∏–≥–∞—Ü–∏—è
    function showPage(pageName) {
      console.log('=== SPA NAVIGATION ===');
      console.log('Showing page:', pageName);
      
      // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => {
        page.classList.remove('active');
      });
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
      const targetPage = document.getElementById(pageName + '-page');
      if (targetPage) {
        targetPage.classList.add('active');
        console.log('Page shown successfully');
      } else {
        console.error('Page not found:', pageName);
      }
    }

    function testNavigation() {
      console.log('Testing navigation...');
      alert('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏...\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å –Ω–∞ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É –≤—ã—à–µ.');
    }
    
    function testDirectNavigation() {
      console.log('=== DIRECT NAVIGATION TEST ===');
      console.log('Testing direct navigation to grammar.html');
      
      // –ü–æ–ø—Ä–æ–±—É–µ–º –ø—Ä—è–º—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é
      try {
        console.log('Direct navigation attempt...');
        window.location.href = 'grammar.html';
      } catch (error) {
        console.error('Direct navigation failed:', error);
        alert('–ü—Ä—è–º–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞. –û—à–∏–±–∫–∞: ' + error.message);
      }
    }
    
    function testTelegramNavigation() {
      console.log('=== TELEGRAM NAVIGATION TEST ===');
      
      if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        console.log('Telegram Web App detected');
        console.log('Telegram Web App info:', Telegram.WebApp);
        
        alert('Telegram Web App –æ–±–Ω–∞—Ä—É–∂–µ–Ω!\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É "üìö Grammar" –≤—ã—à–µ.');
      } else {
        console.log('Telegram Web App not detected');
        alert('Telegram Web App –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω.\n–≠—Ç–æ—Ç —Ç–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Telegram.');
      }
    }
    
    function simpleTest() {
      console.log('=== SIMPLE TEST ===');
      console.log('Testing simple navigation to grammar.html');
      try {
        window.location.href = 'grammar.html';
        console.log('Simple navigation successful.');
      } catch (error) {
        console.error('Simple navigation failed:', error);
        alert('–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª. –û—à–∏–±–∫–∞: ' + error.message);
      }
    }
    
    function testReplace() {
      console.log('=== REPLACE TEST ===');
      console.log('Testing window.location.replace to grammar.html');
      try {
        window.location.replace('grammar.html');
        console.log('Replace navigation successful.');
      } catch (error) {
        console.error('Replace navigation failed:', error);
        alert('–¢–µ—Å—Ç Replace –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª. –û—à–∏–±–∫–∞: ' + error.message);
      }
    }

    function openSection(section) {
      console.log('Opening section:', section);
      alert(`–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª: ${section}`);
    }

    function testAlert() {
      alert('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç!');
    }

    function contactSupport() {
      alert('–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏: @engtrain_support');
    }
  </script>
</body>
</html>
